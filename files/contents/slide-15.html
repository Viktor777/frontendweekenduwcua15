<section class="slide">
    <h1>Pointer Lock API</h1>
    <canvas id="pointer-lock-15"></canvas>
    <pre><code class="javascript" contenteditable="true">
document.getElementById('magic-id').requestPointerLock();
...
document.exitPointerLock();
    </code></pre>
</section>

<script type="text/javascript">

    if (!fwuwcua15.hasOwnProperty('PointerLockAPI')) {
        fwuwcua15.PointerLockAPI = (function () {

            'use strict';

            function PointerLockAPI(id) {
                this.el = document.getElementById(id);

                if (this.isExists()) {
                    this.pos = {
                        x: 5,
                        y: 5
                    };
                    this.ctx = this.el.getContext('2d');
                    document.exitPointerLock = document.exitPointerLock ||
                                            document.mozExitPointerLock ||
                                            document.webkitExitPointerLock;
                    this.addEventListeners();
                    this.draw();
                }
            }

            PointerLockAPI.prototype = {
                isExists: function () {
                    this.el.requestPointerLock = this.el.requestPointerLock ||
                                                this.el.mozRequestPointerLock ||
                                                this.el.webkitRequestPointerLock ||
                                                null;

                    return this.el.requestPointerLock;
                },
                isLocked: function () {
                    return document.pointerLockElement === this.el ||
                        document.mozPointerLockElement === this.el ||
                        document.webkitPointerLockElement === this.el;
                },
                addEventListeners: function () {
                    this.addOnClickListener()
                        .addPointerLockChangeListener();

                    return this;
                },
                addOnClickListener: function () {
                    this.el.addEventListener('click', function () {

                        if (!this.isLocked()) {
                            this.el.requestPointerLock();
                        } else {
                            document.exitPointerLock();
                        }
                    }.bind(this), false);

                    return this;
                },
                addPointerLockChangeListener: function () {
                    document.addEventListener('pointerlockchange', this.onPointerLockChange.bind(this), false);
                    document.addEventListener('mozpointerlockchange', this.onPointerLockChange.bind(this), false);
                    document.addEventListener('webkitpointerlockchange', this.onPointerLockChange.bind(this), false);

                    return this;
                },
                onPointerLockChange: function () {

                    if (this.isLocked()) {
                        document.addEventListener('mousemove', this.onMouseMove.bind(this), false);
                    } else {
                        document.removeEventListener('mousemove', this.onMouseMove.bind(this), false);
                    }

                    return this;
                },
                onMouseMove: function (event) {

                    if (this.isLocked()) {
                        this.pos.x += event.movementX || event.mozMovementX || event.webkitMovementX || 0;
                        this.pos.y += event.movementY || event.mozMovementY || event.webkitMovementY || 0;
                        this.draw();
                        requestAnimationFrame(this.onMouseMove.bind(this));
                    }
                },
                draw: function () {
                    if (this.pos.x > this.el.clientWidth + 10) {
                        this.pos.x = 0;
                    }

                    if (this.pos.y > this.el.clientHeight + 10) {
                        this.pos.y = 0;
                    }

                    if (this.pos.x < -10) {
                        this.pos.x = this.el.clientWidth;
                    }

                    if (this.pos.y < -10) {
                        this.pos.y = this.el.clientHeight;
                    }

                    this.ctx.fillStyle = 'lightblue';
                    this.ctx.fillRect(0, 0, this.el.clientWidth, this.el.clientHeight);
                    this.ctx.fillStyle = 'black';

                    this.ctx.beginPath();
                    this.ctx.arc(this.pos.x, this.pos.y, 10, 0, 2 * Math.PI, true);
                    this.ctx.fill();
                }
            };

            return PointerLockAPI;
        })();
    }

    new fwuwcua15.PointerLockAPI('pointer-lock-15');

</script>