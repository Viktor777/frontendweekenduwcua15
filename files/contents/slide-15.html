<section class="slide">
    <h1>Pointer Lock API</h1>
    <div id="pointer-lock-15"></div>
    <pre><code class="javascript" contenteditable="true">
document.getElementById('magic-id').requestPointerLock();
...
document.exitPointerLock();
    </code></pre>
</section>

<script type="text/javascript">

    if (!fwuwcua15.hasOwnProperty('PointerLockAPI')) {
        fwuwcua15.PointerLockAPI = (function () {

            'use strict';

            function PointerLockAPI(id) {
                this.el = document.getElementById(id);

                if (this.isExists()) {
                    document.exitPointerLock = document.exitPointerLock ||
                                            document.mozExitPointerLock ||
                                            document.webkitExitPointerLock;
                    this.addEventListeners();
                }
            }

            PointerLockAPI.prototype = {
                isExists: function () {
                    this.el.requestPointerLock = this.el.requestPointerLock ||
                                                this.el.mozRequestPointerLock ||
                                                this.el.webkitRequestPointerLock ||
                                                null;

                    return this.el.requestPointerLock;
                },
                isLocked: function () {
                    return document.pointerLockElement === this.el ||
                        document.mozPointerLockElement === this.el ||
                        document.webkitPointerLockElement === this.el;
                },
                addEventListeners: function () {
                    this.addOnClickListener()
                        .addPointerLockChangeListener();

                    return this;
                },
                addOnClickListener: function () {
                    this.el.addEventListener('click', function () {

                        if (!this.isLocked()) {
                            this.el.requestPointerLock();
                        } else {
                            document.exitPointerLock();
                        }
                    }.bind(this), false);

                    return this;
                },
                addPointerLockChangeListener: function () {
                    document.addEventListener('pointerlockchange', this.onPointerLockChange.bind(this), false);
                    document.addEventListener('mozpointerlockchange', this.onPointerLockChange.bind(this), false);
                    document.addEventListener('webkitpointerlockchange', this.onPointerLockChange.bind(this), false);

                    return this;
                },
                onPointerLockChange: function () {

                    if (this.isLocked()) {
                        document.addEventListener("mousemove", this.onMouseMove.bind(this), false);
                    } else {
                        document.removeEventListener("mousemove", this.onMouseMove.bind(this), false);
                    }
                },
                onMouseMove: function (event) {
                    var pos = {
                        x: event.movementX || event.mozMovementX || event.webkitMovementX || 0,
                        y: event.movementY || event.mozMovementY || event.webkitMovementY || 0
                    }, bgPos  = window.getComputedStyle(this.el)
                                    .getPropertyValue('background-position')
                                    .split(' ')
                                    .map(function (v) {
                                        return parseInt(v, 10);
                                    });

                    this.el.style.backgroundPosition = (bgPos[0] - pos.x) + 'px ' + (bgPos[1] - pos.y) + 'px';
                }
            };

            return PointerLockAPI;
        })();
    }

    new fwuwcua15.PointerLockAPI('pointer-lock-15');

</script>