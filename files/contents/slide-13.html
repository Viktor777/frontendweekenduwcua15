<section id="slide-18" class="slide">
    <h1>Proximity API</h1>
    <pre><code class="javascript" contenteditable="true">
window.addEventListener('userproximity', function (event) {
    console.log(event.near);
});
    </code></pre>
</section>
<script type="text/javascript">

    if (!fwuwcua15.hasOwnProperty('deviceProximityAPI')) {
        fwuwcua15.deviceProximityAPI = function () {

            'use strict';

            var el = document.getElementById('slide-18'),
                timer;

            if ('onuserproximity' in window) {
                window.addEventListener('userproximity', function (event) {

                    if (event.near) {
                        if (!el.classList.contains('stopped')) {
                            el.classList.add('stopped');
                            document.body.classList.add('stopped');
                            timer && clearTimeout(timer);
                            timer = setTimeout(function () {
                                document.body.classList.remove('stopped');
                            }, 5000);
                        } else {
                            el.classList.remove('stopped');
                            document.body.classList.remove('stopped');
                        }
                    }
                }, false);
            }
        };
    }

    fwuwcua15.deviceProximityAPI();

</script>